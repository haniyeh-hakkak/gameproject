<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Skeleton</title>
    <script type="text/javascript" src="lib/three.js"></script>
    <script src="lib/THREEx.KeyboardState.js"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
    </style>
</head>
<body>


<div id="WebGL-output">
</div>

<script type="text/javascript">
    var scene, camera, renderer;
    var cube, cube2;
    var keyboard = new THREEx.KeyboardState();

    init();
    animate();

    function init() {

        scene = new THREE.Scene();

        camera = new THREE.PerspectiveCamera(90, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 60, 0);
        camera.lookAt(scene.position);


        renderer = new THREE.WebGLRenderer({antialias: true});
        renderer.setClearColor(new THREE.Color(0x000000));
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);


        var surfaceGeometry = new THREE.PlaneGeometry(100, 150, 1);
        var surfaceMaterial = new THREE.MeshBasicMaterial({color: "#008000", side: THREE.DoubleSide});
        var surfaceMesh = new THREE.Mesh(surfaceGeometry, surfaceMaterial);
        surfaceMesh.rotateX(Math.PI / 2);
        surfaceMesh.position.y = -20;
        scene.add(surfaceMesh);


        var geometry = new THREE.BoxGeometry( 15, 5, 5 );
        var material = new THREE.MeshBasicMaterial( {color: "#800000"} );
        cube = new THREE.Mesh( geometry, material );
        cube.position.y=-20;
        cube.position.z=-70;
        scene.add( cube );

        var geometry = new THREE.BoxGeometry( 15, 5, 5 );
        var material = new THREE.MeshBasicMaterial( {color: "#800000"} );
        cube2 = new THREE.Mesh( geometry, material );
        cube2.position.y=-20;
        cube2.position.z=70;
        scene.add( cube2 );

        var geometry = new THREE.SphereGeometry( 5, 32, 32 );
        var material = new THREE.MeshBasicMaterial( {color: 0xffff00} );
        var sphere = new THREE.Mesh( geometry, material );
        sphere.position.y= -15;
        scene.add( sphere );

        var axesHelper = new THREE.AxisHelper(4);
        axesHelper.rotateY(Math.PI * 3 / 2);
        scene.add(axesHelper);

    }

    function animate() {
        if(keyboard.pressed("left") && cube.position.x>-42){
            cube.position.x -=1;
        }
        else if(keyboard.pressed("right") && cube.position.x<42){
            cube.position.x +=1;
        }
        if(keyboard.pressed("A") && cube2.position.x>-42){
            cube2.position.x -=1;
        }
        else if(keyboard.pressed("D") && cube2.position.x<42){
            cube2.position.x +=1;
        }
        requestAnimationFrame(animate);
        renderer.render(scene, camera);
    }

</script>
</body>
</html>